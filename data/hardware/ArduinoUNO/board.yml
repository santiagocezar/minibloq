info:
  manufacturer: "Arduino"
  name: "Arduino Uno"
  urls:
  - "http://arduino.cc/en/Main/ArduinoBoardUno"
  - "http://arduino.cc"

  mainImage: "main.png"
  thumbnail: "thumb.png"

controller:
  baudRate: 115200

toolchain:
  language: "cpp"
  template: |
    #include <mbq.h>
    void initBoard() {
      @init@
    }
  uploader: "avrdude"
  compileVars:
    corePath: "Arduino.v1.5.4.r2/avr"
    cpu: "atmega328p"
    clockFreq: "16000000L"
    arduinoVersion: "154"
    arduinoVariant: "standard"
  compileCmd: >
    avr-g++ -c -g -Os -w
    -fno-exceptions -ffunction-sections -fdata-sections
    -MMD -mmcu=@cpu@
    -DF_CPU=@clockFreq@
    -DARDUINO=@arduinoVersion@
    -I"@toolsPath@"
    -I"@corePath@
    -I"@corePath@/avr-libc
    -I"@corePath@/variants/@arduinoVariant@</s>
    -I"@boardPath@/lib
      <s>" -I"</s><s>componentFilesPath::</s>
      <s>" -I"</s><s>outputPath::</s>
      <s>" -I"</s><s>libsPath::</s><s>/Arduino/miniBloq/v1.0</s>
      <s>" -I"</s><s>libsPath::</s><s>/Arduino/PingIRReceiver/v1.0" </s>

      <s>includesBuildList::</s>

      <s> "</s><s>componentFilesPath::</s><s>/</s><s>$currentFile$" -o "</s><s>outputPath::</s><s>/</s><s>$currentFile$.o"</s>
  </cmd>
  core: "mega328.a"

syntax:
  lexer: 3

  operatorColor: "#000000"
  stringColor: "#960000"
  preprocesorColor: "#a56900"
  identifierColor: "#000000"
  numberColor: "#00ff00"
  characterColor: "#960000"
  wordColor: "#ff8000"
  word2Color: "#000096"
  commentColor: "#5c5c5c"
  commentLineColor: "#5c5c5c"
  commentDocColor: "#5c5c5c"
  commentDocKeywordColor: "#5c5c5c"
  commentDocKeywordErrorColor: "#5c5c5c"

  operatorBold: true
  wordBold: true
  word2Bold: true
  commentDocKeywordBold: true

  tabWidth: 4
	<cpp>
		<cmd>
			<s>"</s><s>toolsPath::</s>
			<s>/avr-g++" -c -g -Os -w -fno-exceptions -ffunction-sections -fdata-sections -MMD -mmcu=</s><s>cpu::</s>
			<s> -DF_CPU=</s><s>clockFreq::</s>
			<s> -DARDUINO=</s><s>arduinoVersion::</s>
			<s> -I"</s><s>toolsPath::</s>
			<s>" -I"</s><s>corePath::</s>
			<s>" -I"</s><s>corePath::</s><s>/avr-libc</s>
			<s>" -I"</s><s>corePath::</s><s>/variants/</s><s>arduinoVariant::</s>
			<s>" -I"</s><s>boardPath::</s><s>/lib</s>
			<s>" -I"</s><s>componentFilesPath::</s>
			<s>" -I"</s><s>outputPath::</s>
			<s>" -I"</s><s>libsPath::</s><s>/Arduino/miniBloq/v1.0</s>
			<s>" -I"</s><s>libsPath::</s><s>/Arduino/PingIRReceiver/v1.0" </s>

			<s>includesBuildList::</s>
			
			<s> "</s><s>componentFilesPath::</s><s>/</s><s>$currentFile$" -o "</s><s>outputPath::</s><s>/</s><s>$currentFile$.o"</s>
		</cmd>
	</cpp>
	<includeFiles>
		<include><s>Arduino.h</s></include>
		<include><s>pins_arduino.h</s></include>
		<include><s>stdlib.h</s></include>
		<include><s>miniBloq.h</s></include>
		<include><s>board.h</s></include>
	</includeFiles>
	<initBoardCode>
		<s>	Serial.begin(115200);&#10;&#10;</s>
		<s>	//Uses the analog input 0, that may have the same value in some designs, but it's not so prabably:&#10;</s>
		<s>	randomSeed(analogRead(0));&#10;&#10;</s>
	</initBoardCode>
	<initCode>
		<s>#include &lt;mbq.h&gt;&#10;</s>
		<s>#include &lt;PingIRReceiver.h&gt;&#10;&#10;</s>
		<s>void setup()&#10;</s>
		<s>{</s>
	</initCode>
	<finalCode>
		<s>}&#10;&#10;</s>
		<s>void loop()&#10;</s>
		<s>{&#10;</s>
		<s>}</s>
	</finalCode>
	<build>
		<cmd>
			<s>"</s><s>toolsPath::</s>
			<s>/avr-g++" -c -g -Os -w -fno-exceptions -ffunction-sections -fdata-sections -MMD -mmcu=</s><s>cpu::</s>
			<s> -DF_CPU=</s><s>clockFreq::</s><s> -DARDUINO=</s><s>arduinoVersion::</s>
			<s> -D=</s><s>boardDefine::</s>
			<s> -DARDUINO_ARCH_AVR</s>
			<s> -I"</s><s>toolsPath::</s>
			<s>" -I"</s><s>corePath::</s>
			<s>" -I"</s><s>corePath::</s><s>/avr-libc</s>
			<s>" -I"</s><s>corePath::</s><s>/variants/</s><s>arduinoVariant::</s>
			<s>" -I"</s><s>boardPath::</s><s>/lib</s>
			<s>" -I"</s><s>componentFilesPath::</s>
			<s>" -I"</s><s>outputPath::</s>
			<s>" -I"</s><s>libsPath::</s><s>/Arduino/miniBloq/v1.0</s>
			<s>" -I"</s><s>libsPath::</s><s>/Arduino/PingIRReceiver/v1.0" </s>

			<s>includesBuildList::</s>
			
			<s> "</s><s>componentFilesPath::</s><s>/</s><s>initBoard.cpp" -o "</s><s>outputPath::</s><s>/</s><s>initBoard.cpp.o"</s>
		</cmd>
		<cmd>
			<s>"</s><s>toolsPath::</s>
			<s>/avr-g++" -c -g -Os -w -fno-exceptions -ffunction-sections -fdata-sections -MMD -mmcu=</s><s>cpu::</s>
			<s> -DF_CPU=</s><s>clockFreq::</s><s> -DARDUINO=</s><s>arduinoVersion::</s>
			<s> -D=</s><s>boardDefine::</s>
			<s> -DARDUINO_ARCH_AVR</s>			
			<s> -I"</s><s>toolsPath::</s>
			<s>" -I"</s><s>corePath::</s>
			<s>" -I"</s><s>corePath::</s><s>/avr-libc</s>
			<s>" -I"</s><s>corePath::</s><s>/variants/</s><s>arduinoVariant::</s>
			<s>" -I"</s><s>boardPath::</s><s>/lib</s>
			<s>" -I"</s><s>componentFilesPath::</s>
			<s>" -I"</s><s>outputPath::</s>
			<s>" -I"</s><s>libsPath::</s><s>/Arduino/miniBloq/v1.0</s>
			<s>" -I"</s><s>libsPath::</s><s>/Arduino/PingIRReceiver/v1.0" </s>

			<s>includesBuildList::</s>

			<s> "</s><s>componentFilesPath::</s><s>/</s><s>componentName::</s><s>.cpp" -o "</s><s>outputPath::</s><s>/</s><s>componentName::</s><s>.cpp.o"</s>
		</cmd>
		<cmd>
			<s>"</s><s>toolsPath::</s>
			<s>/avr-gcc" -Os -Wl,--gc-sections -mmcu=</s><s>cpu::</s><s> -o</s>
			<s>"</s><s>outputPath::</s><s>/main.cpp.elf" </s>
			<s>outputObjectsList::</s>
			<s> "</s><s>outputPath::</s><s>/</s><s>initBoard.cpp.o"</s>
			<s> "</s><s>outputPath::</s><s>/</s><s>componentName::</s><s>.cpp.o" "</s>
			<s>corePath::</s><s>/obj/</s><s>core::</s><s>"</s>
			<s> -L ./ -lm</s>
		</cmd>
		<cmd>
			<s>"</s><s>toolsPath::</s>
			<s>/avr-objcopy" -O ihex -j .eeprom --set-section-flags=.eeprom=alloc,load --no-change-warnings --change-section-lma .eeprom=0 </s>
			<s>"</s><s>outputPath::</s><s>/main.cpp.elf" "</s>
			<s>outputPath::</s><s>/main.cpp.epp"</s>
		</cmd>
		<cmd>
			<s>"</s><s>toolsPath::</s>
			<s>/avr-objcopy" -O ihex -R .eeprom </s>
			<s>"</s><s>outputPath::</s><s>/main.cpp.elf" "</s>
			<s>outputPath::</s><s>/main.cpp.hex"</s>
		</cmd>
		<cmd>
			<s>"</s><s>toolsPath::</s><s>/avr-size" --mcu=</s><s>cpu::</s><s> --format=avr </s>
			<s>"</s><s>outputPath::</s><s>/main.cpp.elf"</s>
		</cmd>
	</build>
	<deploy>
		<cmd>
			<s>"</s><s>toolsPath::</s><s>/</s><s>uploader::</s><s>" -C"</s>
			<s>toolsPath::</s><s>/avrdude.conf" -p</s><s>cpu::</s><s> -carduino -P</s><s>bootPortName::</s>
			<s> -b</s><s>bootBaudRate::</s><s> -D -Uflash:w:"</s><s>outputPath::</s><s>/main.cpp.hex</s><s>":i</s>
		</cmd>
	</deploy>
	<instances>
		<serial0 instanceType="Serial"/>

		<sensor0 instanceType="analogRead"/>
		<sensor1 instanceType="analogRead"/>
		<sensor2 instanceType="analogRead"/>
		<sensor3 instanceType="analogRead"/>
		<sensor4 instanceType="analogRead"/>
		<sensor5 instanceType="analogRead"/>

		<PWM3 instanceType="analogWrite"/>
		<PWM5 instanceType="analogWrite"/>
		<PWM6 instanceType="analogWrite"/>
		<PWM9 instanceType="analogWrite"/>
		<PWM10 instanceType="analogWrite"/>
		<PWM11 instanceType="analogWrite"/>

		<D0 instanceType="IOPin"/>
		<D1 instanceType="IOPin"/>
		<D2 instanceType="IOPin"/>
		<D3 instanceType="IOPin"/>
		<D4 instanceType="IOPin"/>
		<D5 instanceType="IOPin"/>
		<D6 instanceType="IOPin"/>
		<D7 instanceType="IOPin"/>
		<D8 instanceType="IOPin"/>
		<D9 instanceType="IOPin"/>
		<D10 instanceType="IOPin"/>
		<D11 instanceType="IOPin"/>
		<D12 instanceType="IOPin"/>
		<D13_LED instanceType="IOPin"/>
		<D14 instanceType="IOPin"/>
		<D15 instanceType="IOPin"/>
		<D16 instanceType="IOPin"/>
		<D17 instanceType="IOPin"/>
		<D18 instanceType="IOPin"/>
		<D19 instanceType="IOPin"/>
	</instances>
</board>
